# Test bitwise operators

# AND
a: i64 = 0xFF
b: i64 = 0x0F
print(a & b)         # expect: 15

# OR
print(a | 0x100)     # expect: 511

# XOR
print(5 ^ 3)         # expect: 6

# Left shift
print(1 << 8)        # expect: 256

# Right shift
print(256 >> 4)      # expect: 16

# NOT (bitwise complement)
x: i32 = 0
print(~x)            # expect: -1

# Compound assigns
c: i64 = 0xFF
c &= 0x0F
print(c)             # expect: 15

d: i64 = 0x0F
d |= 0xF0
print(d)             # expect: 255

e: i64 = 7
e ^= 3
print(e)             # expect: 4

f: i64 = 1
f <<= 10
print(f)             # expect: 1024

g: i64 = 1024
g >>= 5
print(g)             # expect: 32

# Binary literals
print(0b1010)        # expect: 10
print(0b11111111)    # expect: 255

# Hex literals
print(0xDEAD)        # expect: 57005
print(0xff)          # expect: 255

# Precedence: & binds tighter than |
# (2 | 1 & 3) should be (2 | (1 & 3)) = (2 | 1) = 3
print(2 | 1 & 3)    # expect: 3

# Precedence: << binds tighter than &
# (1 << 4 & 0xFF) should be ((1 << 4) & 0xFF) = (16 & 255) = 16
print(1 << 4 & 0xFF)  # expect: 16

# EXPECTED:
# 15
# 511
# 6
# 256
# 16
# -1
# 15
# 255
# 4
# 1024
# 32
# 10
# 255
# 57005
# 255
# 3
# 16
